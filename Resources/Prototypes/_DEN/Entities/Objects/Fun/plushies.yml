- type: entity
  parent: BaseSqueakyToy
  id: SqueakySmileyGuy
  name: smiley guy
  description: Socially acceptable toy for the kind of office desk worker whose job makes them want to become a serial killer. # also known as a "stress toy"
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/littlesteve.rsi
    layers:
    - state: icon
      color: "#EDE74E"
      map: ["enum.DamageStateVisualLayers.Base"]
  - type: Item
    inhandVisuals:
      left:
      - state: inhand-left
        color: "#EDE74E"
        map: ["enum.DamageStateVisualLayers.Base"]
      right:
      - state: inhand-right
        color: "#EDE74E"
        map: ["enum.DamageStateVisualLayers.Base"]

- type: entity
  parent: SqueakySmileyGuy
  id: SqueakySmileyGuyRandom
  suffix: random appearance
  components:
  - type: RandomSprite
    available:
    - enum.DamageStateVisualLayers.Base:
        icon: PlasticToy

- type: entity
  parent: SqueakySmileyGuy
  id: SqueakySmileyBall
  name: smiley ball
  description: This thing is squishy and full of slime. Just like you!
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/smileyball.rsi

- type: entity
  parent: SqueakySmileyBall
  id: SqueakySmileyBallRandom
  suffix: random appearance
  components:
  - type: RandomSprite
    available:
    - enum.DamageStateVisualLayers.Base:
        icon: PlasticToy

- type: entity
  parent: BasePlushie
  id: PlushieAlienGerm
  name: alien germ plushie
  description: A stuffed toy that resembles a... UFO? Alien? Germ? It looks at you pleadingly.
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/ufoplushie.rsi
    state: icon
  - type: FoodSequenceElement
    entries:
      CottonBurger: AlienGermPlushie

# accidentally made the sprite too small at first but i didnt want to throw it out so you get a little one.
- type: entity
  parent: PlushieAlienGerm
  id: PlushieAlienGermMini
  name: mini alien germ plushie
  description: A stuffed toy that resembles a... UFO? Alien? Germ? This one is very small.
  components:
  - type: Sprite
    state: small
  - type: Item
    size: Tiny
  - type: SecretStash
    maxItemSize: Tiny
  - type: FoodSequenceElement
    entries:
      CottonBurger: AlienGermMiniPlushie

## TEDDY BEARS

- type: entity
  abstract: true
  parent: BasePlushie
  id: PlushieTeddyBearBase
  name: teddy bear
  description: Because everybody needs a friend. # reference to no joke the worst movie i have seen in my life
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/teddybear.rsi
    state: teddybear
    layers:
    - state: teddybear
    - state: teddybear_ribbon
      map: [ "ribbon" ]
      visible: false
  - type: Item
    inhandVisuals: # TODO: get itemmapper inhands to work
      left:
      - state: teddybear-inhand-left
      right:
      - state: teddybear-inhand-right
  - type: ItemSlots
    slots:
      ribbon:
        name: ribbon
        startingItem: ClothingNeckTeddyRibbon
        whitelist:
          tags:
          - TeddyRibbon
  - type: ContainerContainer
    containers:
      stash: !type:ContainerSlot {}
      ribbon: !type:ContainerSlot {}
  - type: EntityTableContainerFill
    containers:
      stash: !type:NestedSelector
        tableId: RandomPlushieHeart
  - type: ItemMapper
    spriteLayers:
    - ribbon
    mapLayers:
      ribbon:
        whitelist:
          tags:
          - TeddyRibbon
  - type: Appearance

# only the original one gets it because recolorable sprites would make it complete ass
- type: entity
  parent: PlushieTeddyBearBase
  id: PlushieTeddyBear
  components:
  - type: FoodSequenceElement
    entries:
      CottonBurger: TeddyBearPlushie

- type: entity
  parent: PlushieTeddyBearBase
  id: PlushieTeddyBearRecolorable
  suffix: recolorable
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/teddybear.rsi
    state: teddybear
    layers:
    - state: teddybear_base
      color: "#cc9975"
      map: [ "base" ]
    - state: teddybear_accent
      map: [ "accent" ]
    - state: teddybear_ribbon
      map: [ "ribbon" ]
      visible: false
  - type: Item
    inhandVisuals: # TODO: get itemmapper inhands to work
      left:
      - state: teddybear_base-inhand-left
        color: "#cc9975"
        map: [ "base" ]
      - state: teddybear_accent-inhand-left
        map: [ "accent" ]
      # - state: teddybear_ribbon-inhand-left
      #   map: [ "ribbon" ]
      right:
      - state: teddybear_base-inhand-right
        color: "#cc9975"
        map: [ "base" ]
      - state: teddybear_accent-inhand-right
        map: [ "accent" ]
      # - state: teddybear_ribbon-inhand-right
      #   map: [ "ribbon" ]

- type: entity
  parent: PlushieTeddyBearRecolorable
  id: PlushieTeddyBearRecolorablePlaid
  suffix: recolorable, plaid
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/teddybear.rsi
    state: teddybear
    layers:
    - state: teddybear_base_plaid
      color: "#cc9975"
      map: [ "base" ]
    - state: teddybear_accent
      map: [ "accent" ]
    - state: teddybear_ribbon
      map: [ "ribbon" ]
      visible: false
  - type: Item
    inhandVisuals:
      left:
      - state: teddybear_base-inhand-left
        color: "#cc9975"
        map: [ "teddybear_base_plaid" ]
      - state: teddybear_accent-inhand-left
        map: [ "accent" ]
      right:
      - state: teddybear_base-inhand-right
        color: "#cc9975"
        map: [ "teddybear_base_plaid" ]
      - state: teddybear_accent-inhand-right
        map: [ "accent" ]

- type: entity
  parent: PlushieTeddyBearRecolorable
  id: PlushieTeddyBearRecolorableRandom
  name: teddy bear
  suffix: random appearance
  components:
  - type: RandomSprite
    getAllGroups: true
    available:
    - base:
        teddybear_base: Teddybear
        teddybear_base_plaid: Teddybear
    - accent:
        teddybear_accent: TeddybearAccent
        teddybear_accent_muzzle: TeddybearAccent
        teddybear_accent_plain: TeddybearAccent
  - type: Item
    inhandVisuals: # TODO: get itemmapper inhands to work
      left:
      - state: teddybear_base-inhand-left
        map: [ "base" ]
      - state: teddybear_accent-inhand-left
        map: [ "accent" ]
      right:
      - state: teddybear_base-inhand-right
        map: [ "base" ]
      - state: teddybear_accent-inhand-right
        map: [ "accent" ]

# TODO: allow this to be recolorable and reflect that dynamically on the bear sprite
- type: entity
  parent: ClothingNeckBase
  id: ClothingNeckTeddyRibbon
  name: teddy bear ribbon
  description: A nice ribbon for your teddy bear.
  components:
  - type: Sprite
    sprite: _DEN/Clothing/Neck/Misc/teddyribbon.rsi
  - type: Clothing
    sprite: _DEN/Clothing/Neck/Misc/teddyribbon.rsi
  - type: Tag
    tags:
    - TeddyRibbon
    - ClothMade
    - WhitelistChameleon

- type: entity
  parent: BasePlushieWithoutStash
  id: PlushieHeartInsert
  name: plush heart insert
  description: "Fun fact: a plushie can survive just fine without this."
  components:
  - type: Sprite
    sprite: _DEN/Objects/Fun/teddybear.rsi
    state: plush_heart
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Fiber
          Quantity: 5
  - type: FoodSequenceElement
    entries:
      CottonBurger: HeartInsertPlushie

- type: entityTable
  id: RandomPlushieHeart
  table: !type:GroupSelector
    children:
    - id: PlushieHeartInsert
      weight: 9
    - id: OrganHumanHeart
      weight: 1
